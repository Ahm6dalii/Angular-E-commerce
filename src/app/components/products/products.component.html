<div class="container mt-3">
  <div class="row">
    <div class="d-none d-sm-block col-sm-3">
      <label for="" class="form-label">Search By Name:</label>
      <input type="text" placeholder="search by name ...." class="form-control mb-2 " [(ngModel)]="searchValue" (input)="searchProduct()">
      <label for="" class="form-label">Search By Price:</label>
      <select name="data" class="mb-2 form-select" id="" (change)="onSelectChange($event,metaData.currentPage)">
        <option selected hidden disabled>Select</option>
        <option value="">Default</option>
        <option value="sort=price ">Sort By Price Aec</option>
        <option  value="sort=-price ">Sort By Price Des</option>
      </select> 
    </div>
    <div class="col-12 col-sm-9">
      @if(products.length==0){
        @if(!searchValue)
        {
          <app-loading-screen></app-loading-screen>
        }@else {
          <p class="text-center alert alert-warning">No  Product Found</p>
      
        }
      }@else {
      <app-products-only [products]="products"></app-products-only>
      }
      <nav aria-label="Page navigation example" class=" d-flex justify-content-center align-items-center mt-4 ">
        <ul class="pagination">
          @if(metaData.prevPage){
            <li class="page-item">
              <a class="page-link" (click)="getAllProduct('',metaData?.prevPage)" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
          }
        
          @for (item of metaData.numberOfPages|rangeLoop; track metaData.numberOfPages; let i = $index) {
            <li class="page-item"><a [ngClass]="{'bg-secondary text-white': (i + 1) === metaData.currentPage, 'page-link': true}"  (click)="getAllProduct('',i + 1 )">{{ i + 1 }}</a>
            </li>
        }
        @if(metaData.nextPage){
          <li class="page-item">
            <a class="page-link" (click)="getAllProduct('',metaData?.nextPage)" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>}
        </ul>
      </nav>
    </div>

  </div>
</div>
