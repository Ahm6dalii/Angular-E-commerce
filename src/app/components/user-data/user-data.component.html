<p-toast
[style]="{ width: '300px' }" 
[showTransformOptions]="'translateY(100%)'" 
    [showTransitionOptions]="'100ms'" 
    [hideTransitionOptions]="'100ms'" 
    [showTransformOptions]="'translateX(100%)'" />
<div class="container my-5  border bg-body-secondary  rounded-1">
    <form [formGroup]="updateForm" (ngSubmit)="updateUserInformation($event)">
      <div class="row jumbotron box8 p-2">
        <div class="col-sm-12 mx-t3 mb-4">
          <h2 class="text-center text-info">User Data</h2>
          @if(errorMessage){
          <div class="bg-danger w-50 rounded-5 mx-auto p-3">
            {{errorMessage}}
          </div>
          }
        </div>
        <div class="col-sm-6 form-floating mb-3">
          <input type="text" class="form-control"
            [ngClass]="{'is-invalid': nameControl.invalid && nameControl.touched, 'is-valid': nameControl.valid && nameControl.touched}"
            id="name" placeholder="Full Name" formControlName="name" 
            >
          <label for="name" class="ms-3 text-secondary">Full Name</label>
          @if(nameControl.errors && nameControl.touched){
          <div class="invalid-feedback">
            @if(nameControl.errors['minlength']){
            <div>
              Min length should be at least 5
            </div>
            }
            @if(nameControl.errors['maxlength']){
            <div>
              Max length should not exceed 10
            </div>
            }
          </div>
          }
        </div>
        <div class="col-sm-6 form-floating mb-3">
          <input type="tel" class="form-control"
            [ngClass]="{'is-invalid': phoneControl.invalid && phoneControl.touched, 'is-valid': phoneControl.valid && phoneControl.touched}"
            id="" placeholder="phone" formControlName="phone">
          <label for="phone" class="ms-3 text-secondary">phone</label>
          @if(phoneControl.errors && phoneControl.touched){
  
          @if(phoneControl.errors['min']){
          <div class="invalid-feedback">
            <div>
              Minimum age is 16
            </div>
          </div>
          }
          @if(phoneControl.errors['max']){
          <div class="invalid-feedback">
            <div>
              Maximum age is 100
            </div>
          </div>
          }
          }
        </div>
  
        <div class="col-sm-12 form-floating mb-3">
          <input type="email" class="form-control"
            [ngClass]="{'is-invalid': emailControl.invalid && emailControl.touched, 'is-valid': emailControl.valid && emailControl.touched}"
            id="email" placeholder="Email" formControlName="email">
          <label for="email" class="ms-3 text-secondary">Email</label>
          @if(emailControl.errors && emailControl.touched){
  
          @if(emailControl.errors['email']){
          <div class="invalid-feedback">
            <div>
              Invalid email
            </div>
          </div>
          }
          }
        </div>
  
  
        <div class="col-sm-12 form-group mt-4">
          <button class="btn  btn-outline-primary float-right d-block  mx-auto mb-5 w-50" [disabled]="isLoading">
            @if(isLoading){
            <i class="fa-solid fa-spinner fa-spin-pulse"></i>
            }
            Update Profile
          </button>
        </div>
      </div>
    </form>
  </div>